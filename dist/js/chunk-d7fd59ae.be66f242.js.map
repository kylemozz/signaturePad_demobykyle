{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./src/views/elementUI.vue?d9f0","webpack:///./src/views/elementUI.vue?fff1","webpack:///./src/views/Signature/SignatureCore.vue?736b","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///src/views/Signature/SignatureCore.vue","webpack:///./src/views/Signature/SignatureCore.vue?b622","webpack:///./src/views/Signature/SignatureCore.vue?6948","webpack:///src/views/elementUI.vue","webpack:///./src/views/elementUI.vue?ede6","webpack:///./src/views/elementUI.vue?9768","webpack:///./src/views/Signature/SignatureCore.vue?e293","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./src/views/Signature/SignatureCore.vue?e7ea","webpack:///./src/views/Signature/eraser.png","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js"],"names":["toIndexedObject","$getOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","slice","module","exports","call","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","download","_v","model","value","callback","$$v","imageType","expression","_l","item","key","vlaue","label","clear","btnHighlight","imgFlag","repaint","clearTrace","saveTraceAsJSON","fileInput","imageInput","traceBackWard","eraserFlag","eraserTrigger","penShape","penSizeChange","width","colorChange","color","ref","Number","updateBtnHight","updateImgFlag","updateEraserFlag","uploadImageToFather","uploadTraceJSONToFather","staticRenderFns","staticStyle","_typeof","obj","Symbol","iterator","constructor","prototype","props","lineWidth","type","default","lineColor","String","canvasBgColor","data","openKeys2","openKeys","canvas","cxt","trace","flag","file","fileInputBtn","imageInputBtn","image","imageToInsert","newTrace","eraserTrace","minusX","minusY","watch","length","$emit","methods","showMenu","openChange","injectImage","drawImageOnCanvas","injectJSON","JSON","parse","json","concat","mobileCompute","getBoundingClientRect","x","y","isMobile","penShapeCompute","index","len","j","end","push","decay","branchFlag","i","beginAndMove","draw","shift","clearCanvas","image2Canvas","eraserTheLine","x1","y1","x2","y2","x3","y3","x4","y4","res","judgeIntersect","removeThisLine","u","v","w","z","conditon1","Math","min","max","condition2","condition3","condition4","start","splice","rePaint","style","cursor","img","Image","console","log","src","onload","drawImage","penFlag","rePaintTrace","click","backFlag","alert","content","stringify","jsonLink","document","createElement","blob","Blob","href","URL","createObjectURL","eraserTraceInput","traceInputBegin","traceInput","strokeStyle","shadowColor","isNaN","imgTypeChange","getDOMEl","querySelector","canvasSupTest","getContext","section","className","innerHTML","prepend","Error","porpertyInit","clientWidth","height","clientHeight","fillStyle","fillRect","lineCap","lineJoin","shadowBlur","beginPath","moveTo","lineTo","stroke","close","openDownloadDialog","url","event","aLink","saveName","MouseEvent","createEvent","initMouseEvent","dispatchEvent","toDataURL","downLoadLink","clearRect","windowToCanvas","innerWidth","innerHeight","components","mounted","addEventListener","body","e","component","options","$refs","sigCore","newValue","traceJSON","path","has","wrappedWellKnownSymbolModule","defineProperty","NAME","$","global","getBuiltIn","IS_PURE","DESCRIPTORS","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","fails","isArray","isObject","anObject","toObject","toPrimitive","createPropertyDescriptor","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","definePropertyModule","propertyIsEnumerableModule","createNonEnumerableProperty","redefine","shared","sharedKey","hiddenKeys","uid","wellKnownSymbol","defineWellKnownSymbol","setToStringTag","InternalStateModule","$forEach","forEach","HIDDEN","SYMBOL","PROTOTYPE","TO_PRIMITIVE","setInternalState","set","getInternalState","getterFor","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","get","a","O","P","Attributes","ObjectPrototypeDescriptor","wrap","tag","description","symbol","isSymbol","$defineProperty","enumerable","$defineProperties","Properties","properties","keys","$getOwnPropertySymbols","$propertyIsEnumerable","$create","undefined","V","$getOwnPropertyDescriptor","descriptor","names","result","IS_OBJECT_PROTOTYPE","TypeError","arguments","setter","configurable","name","unsafe","forced","sham","target","stat","string","keyFor","sym","useSetter","useSimple","create","defineProperties","getOwnPropertyDescriptor","getOwnPropertySymbols","FORCED_JSON_STRINGIFY","replacer","space","$replacer","args","apply","valueOf","bind","IndexedObject","toLength","arraySpeciesCreate","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","$this","callbackfn","that","specificCreate","self","boundFunction","map","filter","some","every","find","findIndex","filterOut","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","regexp","desc","replace"],"mappings":"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","file":"js/chunk-d7fd59ae.be66f242.js","sourcesContent":["/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./elementUI.vue?vue&type=style&index=0&id=f2f0d998&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"mode\":\"horizontal\"}},[_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"1\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.download()}}},[_vm._v(\"保存\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"2\"}},[_vm._v(\" 格式： \"),_c('el-select',{staticClass:\"selectModule\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.imageType),callback:function ($$v) {_vm.imageType=$$v},expression:\"imageType\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.vlaue,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"3\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"清除\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"4\"}},[_c('el-button',{attrs:{\"type\":_vm.btnHighlight || _vm.imgFlag ? 'primary' : ''},on:{\"click\":function($event){return _vm.repaint()}}},[_vm._v(\"重绘\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"5\"}},[_c('el-button',{attrs:{\"type\":_vm.btnHighlight || _vm.imgFlag ? 'primary' : ''},on:{\"click\":function($event){return _vm.clearTrace()}}},[_vm._v(\"清除重绘\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"6\"}},[_c('el-button',{attrs:{\"type\":_vm.btnHighlight || _vm.imgFlag ? 'primary' : ''},on:{\"click\":function($event){return _vm.saveTraceAsJSON()}}},[_vm._v(\"导出重绘\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.fileInput()}}},[_vm._v(\"导入重绘\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"},on:{\"click\":function($event){return _vm.imageInput()}}},[_c('el-button',[_vm._v(\"导入图片\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.traceBackWard()}}},[_vm._v(\"撤回\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('el-button',{attrs:{\"type\":_vm.eraserFlag ? 'primary' : ''},on:{\"click\":function($event){return _vm.eraserTrigger()}}},[_vm._v(\"橡皮擦\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.penShape()}}},[_vm._v(\"笔锋\")])],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('span',[_vm._v(\"粗细：\")]),_c('el-input',{staticClass:\"width-input\",attrs:{\"placeholder\":\"输入粗细\",\"clearable\":\"\"},on:{\"blur\":function($event){return _vm.penSizeChange(_vm.width)}},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}})],1),_c('el-menu-item',{staticClass:\"menu-item\",attrs:{\"index\":\"7\"}},[_c('span',[_vm._v(\"颜色：\")]),_c('el-color-picker',{on:{\"change\":function($event){return _vm.colorChange(_vm.color)}},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)],1),_c('signatureCore',{ref:\"sigCore\",attrs:{\"imageType\":_vm.imageType,\"lineWidth\":Number(_vm.width),\"lineColor\":_vm.color},on:{\"updateBtnHight\":_vm.updateBtnHight,\"updateImgFlag\":_vm.updateImgFlag,\"updateEraserFlag\":_vm.updateEraserFlag,\"uploadImageToFather\":_vm.uploadImageToFather,\"uploadTraceToFather\":_vm.uploadTraceJSONToFather}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas_container\",attrs:{\"id\":\"canvas_container\"}},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),_c('input',{attrs:{\"id\":\"fileInputBtn\",\"type\":\"file\",\"multiple\":\"\"}}),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"imageInputBtn\",\"type\":\"file\",\"multiple\":\"\"}}),_c('iframe',{ref:\"frame\",staticStyle:{\"width\":\"0\",\"height\":\"0\"},attrs:{\"name\":\"frame\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","<template>\r\n  <div class=\"canvas_container\" id=\"canvas_container\">\r\n    <canvas id=\"canvas\"></canvas>\r\n    <input id=\"fileInputBtn\" type=\"file\" multiple />\r\n    <input style=\"display:none;\" id=\"imageInputBtn\" type=\"file\" multiple />\r\n    <iframe ref=\"frame\" name=\"frame\" style=\"width:0;height:0\"></iframe>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // 暴露的参数\r\n  props: {\r\n    lineWidth: {\r\n      // 线条宽度 默认为5\r\n      type: Number,\r\n      default: 5\r\n    },\r\n    lineColor: {\r\n      // 线条颜色 默认黑色\r\n      type: String,\r\n      default: '#000'\r\n    },\r\n    canvasBgColor: {\r\n      // 绘画框背景颜色\r\n      type: String,\r\n      default: '#fff'\r\n    },\r\n    imageType: {\r\n      // 默认的图片类型\r\n      type: String,\r\n      default: 'jpg'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      openKeys2: [],\r\n      openKeys: [],\r\n      canvas: '', // canvas画布\r\n      // lineWidth: '', // 线条宽度 默认为5\r\n      // lineColor: '', // 线条颜色\r\n      // canvasBgColor: '', // 绘画框背景颜色\r\n      // imageType: 'jpg', // 将要保存的图片类型 默认jpg\r\n      cxt: '', // canvas的context,\r\n      trace: [], // 轨迹变量数据\r\n      flag: '', // 鼠标移动时的标志量\r\n      btnHighlight: false, // 按钮高亮标志量\r\n      imgFlag: false, // 图片功能关联的重绘和消除重绘高亮\r\n      file: '', // 传入的文件\r\n      fileInputBtn: '', // 文件选择输入按钮\r\n      imageInputBtn: '', // 图片选择输入按扭\r\n      image: '', // 导入的图片\r\n      imageToInsert: '', // 要导入canvas的图片\r\n      newTrace: '', // 导入的新轨迹\r\n      // ImageData: ''\r\n      eraserFlag: false, // 橡皮擦功能启动标志位\r\n      eraserTrace: [], // 橡皮擦轨迹\r\n      minusX: '', // 移动端画布x轴偏移值\r\n      minusY: '', // 移动端画布y轴偏移值\r\n      color: this.lineColor,\r\n      width: this.lineWidth\r\n    }\r\n  },\r\n  watch: {\r\n    trace () {\r\n      // 只能使用watcher 如果在按钮属性直接使用三元表达式会导致书写卡顿\r\n      if (this.trace.length > 0) {\r\n        this.btnHighlight = true\r\n      } else {\r\n        this.btnHighlight = false\r\n      }\r\n      this.$emit('updateBtnHight', this.btnHighlight) // 同时向外部更新\r\n    },\r\n    imageToInsert () {\r\n      if (this.imageToInsert) {\r\n        this.imgFlag = true\r\n      } else {\r\n        this.imgFlag = false\r\n      }\r\n      this.$emit('updateImgFlag', this.imgFlag) // 同时向外部更新\r\n    }\r\n  },\r\n  methods: {\r\n    // dataTest () {\r\n    //   this.ImageData = this.cxt.getImageData(\r\n    //     0,\r\n    //     0,\r\n    //     this.canvas.width,\r\n    //     this.canvas.height\r\n    //   )\r\n    //   console.log(ImageData)\r\n    // },\r\n    // dataTest2 () {\r\n    //   this.cxt.putImageData(this.ImageData, 0, 0)\r\n    // },\r\n    showMenu () {\r\n      this.openKeys = this.openKeys2\r\n    },\r\n    openChange () {\r\n      this.openKeys2 = this.openKeys\r\n      // console.log(this.openKeys)\r\n    },\r\n    /* 外部图片传入 */\r\n    injectImage (image) {\r\n      // console.log(image)\r\n      this.imageToInsert = image\r\n      this.drawImageOnCanvas()\r\n    },\r\n    /* 外部JSON传入 */\r\n    injectJSON (json) {\r\n      // console.log(json)\r\n      this.newTrace = JSON.parse(json)\r\n      this.trace = this.trace.concat(this.newTrace)\r\n    },\r\n    /* 计算移动端偏移值 */\r\n    mobileCompute (flag = false) {\r\n      this.minusX = this.canvas.getBoundingClientRect().x\r\n      this.minusY = this.canvas.getBoundingClientRect().y\r\n    },\r\n    /* 判断浏览器是pc端还是移动端 */\r\n    isMobile () {\r\n      if (\r\n        window.navigator.userAgent.match(\r\n          /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\r\n        )\r\n      ) {\r\n        return true // 移动端\r\n      } else {\r\n        return false // PC端\r\n      }\r\n    },\r\n    /* 笔锋测试 核心思路为线的宽度逐渐减少 */\r\n    penShapeCompute () {\r\n      var index = [] // 每条线段的终点坐标\r\n      var len = []\r\n      for (var j = 0; j < this.trace.length; j++) {\r\n        if (this.trace[j].end) {\r\n          index.push(j)\r\n        }\r\n      }\r\n      // console.log(index)\r\n      // 计算每段线段的长度\r\n\r\n      len[0] = index[0] + 1\r\n      for (let j = 1; j < index.length; j++) {\r\n        len.push(index[j] - index[j - 1])\r\n      }\r\n\r\n      // console.log(len)\r\n      // var count = 0\r\n      var decay = (this.lineWidth - 1) / len[0] // 宽度衰减值\r\n      // console.log(decay)\r\n      var branchFlag = true\r\n      // 遍历轨迹对象\r\n      for (var i = 0; i < this.trace.length; i++) {\r\n        // console.log(this.trace[i])\r\n        if (branchFlag) {\r\n          this.beginAndMove(this.trace[i].x, this.trace[i].y)\r\n          branchFlag = false\r\n          continue\r\n        }\r\n\r\n        // 逐渐改变线的宽度\r\n        this.cxt.lineWidth -= decay\r\n        // console.log(this.cxt.lineWidth)\r\n        this.draw(this.trace[i].x, this.trace[i].y)\r\n        if (this.trace[i].end) {\r\n          branchFlag = true\r\n          this.cxt.lineWidth = this.lineWidth\r\n          len.shift()\r\n          decay = (this.lineWidth - 1) / len[0]\r\n          // count += 1\r\n          // console.log(decay)\r\n        }\r\n      }\r\n      // console.log(count)\r\n    },\r\n    penShape () {\r\n      this.clearCanvas()\r\n      this.penShapeCompute()\r\n      this.image2Canvas(true)\r\n    },\r\n    /* 遍历轨迹数组 并根据检测结果擦除 */\r\n    eraserTheLine () {\r\n      for (var i = 0; i < this.trace.length - 1; i++) {\r\n        // 第一个点不能是终点 以防错误连线检测\r\n        if (!this.trace[i].end) {\r\n          // 相交检测\r\n          var x1 = this.eraserTrace[0].x\r\n          var y1 = this.eraserTrace[0].y\r\n          var x2 = this.eraserTrace[1].x\r\n          var y2 = this.eraserTrace[1].y\r\n          var x3 = this.trace[i].x\r\n          var y3 = this.trace[i].y\r\n          var x4 = this.trace[i + 1].x\r\n          var y4 = this.trace[i + 1].y\r\n          var res = this.judgeIntersect(x1, y1, x2, y2, x3, y3, x4, y4)\r\n          if (res) {\r\n            this.removeThisLine(i)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    /* 四点两两连线线段相交检测 注意传入参数的顺序 */\r\n    judgeIntersect (x1, y1, x2, y2, x3, y3, x4, y4) {\r\n      // 快速排斥\r\n      // 两个线段为对角线组成的矩形，如果两个矩形没有重叠的部分，那么两条线段一定不相交（但是重叠的矩形也有可能不相交）\r\n\r\n      // 1. 线段ab的低点低于cd的最高点（可能重合）\r\n      var conditon1 = Math.min(y1, y2) <= Math.max(y3, y4)\r\n      // 2. cd最左端小于ab最右端\r\n      var condition2 = Math.min(x3, x4) < Math.max(x1, x2)\r\n      // 3. cd的最低点低于ab的最高点（加上条件1，两线段在竖直方向上重合）\r\n      var condition3 = Math.min(y3, y4) < Math.max(y1, y2)\r\n      // 4. ab的最左端小于cd的最右端\r\n      var condition4 = Math.min(x1, x2) < Math.max(x3, x4)\r\n\r\n      // 综合以上4个条件 矩形是重合的（也包括矩形包含的情况） 这一步是判断那些绝对不重合的矩阵 即绝对不相交\r\n      if (!(conditon1 && condition2 && condition3 && condition4)) {\r\n        return false\r\n      }\r\n\r\n      // 剩下的用跨立实验判断\r\n      // 如果两条线段相交 必然跨立，以一条线段为标准，另一条线段的两端点一定在这条线段的两端\r\n      // 即ab两点在线段cd的两端 cd两点在线段ab的两端\r\n      // (ACxAB)*(ABxAD) <= 0\r\n      // AC AB 叉乘<=0\r\n      // AB AD 叉乘<=0\r\n      var u, v, w, z\r\n\r\n      // AC AB 叉乘 详见向量公式以及叉乘公式\r\n      u = (x3 - x1) * (y2 - y1) - (x2 - x1) * (y3 - y1)\r\n      // AD AB 叉乘\r\n      v = (x4 - x1) * (y2 - y1) - (x2 - x1) * (y4 - y1)\r\n      // 以下同理 即对于另一条线段也要判断是否在两侧\r\n      w = (x1 - x3) * (y4 - y3) - (x4 - x3) * (y1 - y3)\r\n      z = (x2 - x3) * (y4 - y3) - (x4 - x3) * (y2 - y3)\r\n      return u * v <= 0.00000001 && w * z <= 0.00000001\r\n    },\r\n    /* 传入坐标 移除该坐标所在的线段 */\r\n    removeThisLine (index) {\r\n      var start = 0\r\n      var end = 0\r\n      for (let i = index; i >= 0; i--) {\r\n        if (this.trace[i].end) {\r\n          start = i + 1\r\n          break\r\n        }\r\n      }\r\n      for (let i = index; i < this.trace.length; i++) {\r\n        if (this.trace[i].end) {\r\n          end = i\r\n          break\r\n        }\r\n      }\r\n      this.trace.splice(start, end - start + 1)\r\n      // console.log(this.trace)\r\n      this.rePaint()\r\n    },\r\n    eraserTrigger () {\r\n      this.eraserFlag = !this.eraserFlag\r\n      const cursorIcon = require('./eraser.png') // base64\r\n      this.canvas.style.cursor = this.eraserFlag\r\n        ? `url(${cursorIcon}),auto`\r\n        : 'default'\r\n      this.$emit('updateEraserFlag', this.eraserFlag)\r\n      this.eraserTrace = [] // 清空上一次的橡皮擦轨迹数组\r\n    },\r\n    image2Canvas (penFlag) {\r\n      var img = new Image()\r\n      console.log(this.imageToInsert)\r\n      img.src = this.imageToInsert\r\n      // 异步事件的使用要特别注意\r\n      img.onload = function () {\r\n        this.cxt.drawImage(img, 0, 0)\r\n        // 重画之前的轨迹\r\n        if (this.trace.length > 0 && penFlag) {\r\n          this.penShapeCompute()\r\n        } else {\r\n          this.rePaintTrace()\r\n        }\r\n      }.bind(this)\r\n    },\r\n    /* 导入的图片显示在canvas上 */\r\n    drawImageOnCanvas () {\r\n      // this.clearCanvas()\r\n      // this.clearTrace()\r\n      this.image2Canvas()\r\n    },\r\n    /* 导入图片 */\r\n    imageInput () {\r\n      this.imageInputBtn.click()\r\n    },\r\n    /* test */\r\n    // findMark () {\r\n    //   var em = []\r\n    //   for (var i = 0; i < this.trace.length; i++) {\r\n    //     if (this.trace[i].end === true) {\r\n    //       em.push(i)\r\n    //     }\r\n    //   }\r\n    //   console.log(this.trace)\r\n    //   console.log(em)\r\n    // },\r\n    /* 撤回轨迹的上一步 切割数组 */\r\n    traceBackWard () {\r\n      if (this.trace.length === 0) {\r\n        alert('当前不存在可撤回轨迹')\r\n        return\r\n      }\r\n      var backFlag = true\r\n      // this.findMark()\r\n      // console.log(this.trace)\r\n      // 逆序遍历\r\n      for (var i = this.trace.length - 2; i >= 0; i--) {\r\n        if (this.trace[i].end === true) {\r\n          this.trace = this.trace.slice(0, i + 1)\r\n          backFlag = false\r\n          break\r\n        }\r\n      }\r\n      if (backFlag) {\r\n        this.trace = []\r\n      }\r\n\r\n      // this.findMark()\r\n      // console.log(this.trace)\r\n\r\n      this.rePaint() // 重新绘制之前的轨迹 也是在这一步导致导入的图片消失\r\n    },\r\n    /* 文件导入 */\r\n    fileInput () {\r\n      this.fileInputBtn.click() // 触发真正的文件导入按钮\r\n    },\r\n    /* 保存轨迹文件 */\r\n    saveTraceAsJSON () {\r\n      var content = JSON.stringify(this.trace) // 转换为JSON格式\r\n      // var content = JSON.stringify(\r\n      //   (this.ImageData = this.cxt.getImageData(\r\n      //     0,\r\n      //     0,\r\n      //     this.canvas.width,\r\n      //     this.canvas.height\r\n      //   ))\r\n      // )\r\n      // console.log(content)\r\n      var jsonLink = document.createElement('a')\r\n      jsonLink.download = 'trace.json'\r\n      var blob = new Blob([content]) // 字符内容变为blob地址\r\n      jsonLink.href = URL.createObjectURL(blob)\r\n      jsonLink.click()\r\n      this.$emit('uploadTraceJSONToFather', content)\r\n    },\r\n    /* 橡皮擦输入轨迹 */\r\n    eraserTraceInput (x, y) {\r\n      this.eraserTrace.push({ x: x, y: y })\r\n    },\r\n    /* 输入轨迹起点 起点记录标志位 颜色 宽度 */\r\n    traceInputBegin (x, y, flag, color, width) {\r\n      this.trace.push({\r\n        x: x,\r\n        y: y,\r\n        start: flag,\r\n        color: color,\r\n        width: width\r\n      })\r\n    },\r\n    /* 输入轨迹 */\r\n    traceInput (x, y, flag) {\r\n      this.trace.push({\r\n        x: x,\r\n        y: y,\r\n        end: flag\r\n      })\r\n    },\r\n    /* 利用轨迹数据重新绘制 */\r\n    rePaintTrace () {\r\n      var branchFlag = true\r\n      // 遍历轨迹对象\r\n      for (var i = 0; i < this.trace.length; i++) {\r\n        // console.log(this.trace[i])\r\n        if (branchFlag) {\r\n          this.beginAndMove(this.trace[i].x, this.trace[i].y)\r\n          branchFlag = false\r\n          if (this.trace[i].start) {\r\n            this.colorChange(this.trace[i].color)\r\n            this.penSizeChange(this.trace[i].width)\r\n          }\r\n          continue\r\n        }\r\n        if (this.trace[i].end) {\r\n          branchFlag = true\r\n        }\r\n        this.draw(this.trace[i].x, this.trace[i].y)\r\n      }\r\n    },\r\n    rePaint () {\r\n      this.clearCanvas() // 重绘首先清空画布 这一步必须清除画布 因为撤回的原理是把分割后的数组重新绘制 这一步清空数组也导致了之前导入图片的消失\r\n\r\n      // 重画之前的图片 如果再这一步加重画图片 会导致之前的轨迹全部消失\r\n      if (this.imageToInsert) {\r\n        this.drawImageOnCanvas()\r\n      }\r\n      this.rePaintTrace()\r\n      // console.log(this.trace)\r\n      // console.log(this.trace)\r\n    },\r\n    /* 改变笔触颜色 注意要改两种颜色一种是线的颜色 一种时阴影的颜色 */\r\n    colorChange (color) {\r\n      this.color = color\r\n      this.cxt.strokeStyle = this.color\r\n      this.cxt.shadowColor = this.color\r\n    },\r\n    /* 改变笔触粗细 注意笔触属性接受值为number */\r\n    penSizeChange (width) {\r\n      // console.log(e) // e.data\r\n      // console.log(typeof this.lineWidth) //用户输入均为字符串\r\n      this.width = width\r\n      let lineWidth = Number(this.width)\r\n      if (lineWidth <= 0 || lineWidth > 10 || isNaN(lineWidth)) {\r\n        // 范围判定 只接受1-10\r\n        // console.log('请输入1-10以内的数值')\r\n        lineWidth = 5 // 恢复原值\r\n        this.cxt.lineWidth = lineWidth\r\n        return\r\n      }\r\n      this.cxt.lineWidth = lineWidth // 更改canvas设置\r\n    },\r\n    /* 改变保存图片类型 */\r\n    imgTypeChange (value) {\r\n      // console.log(value) //{key: \"jpeg\", label: \" jpg \"}\r\n      this.imageType = value.key\r\n    },\r\n    /* 获取DOM元素 */\r\n    getDOMEl () {\r\n      this.canvas = document.querySelector('#canvas')\r\n      this.fileInputBtn = document.querySelector('#fileInputBtn')\r\n      this.imageInputBtn = document.querySelector('#imageInputBtn')\r\n    },\r\n    /* canvas可用性测试 */\r\n    canvasSupTest () {\r\n      if (!(this.canvas.getContext && this.canvas.getContext('2d'))) {\r\n        const section = document.createElement('section') // 创建section元素\r\n        section.className = 'errorCanvas'\r\n        section.innerHTML = '对不起，当前浏览器不支持canvas'\r\n        this.canvas.prepend(section)\r\n        throw new Error('对不起，当前浏览器不支持canvas') // 终止代码运行\r\n      }\r\n    },\r\n    /* 属性初始化 */\r\n    porpertyInit (flag = false) {\r\n      // 这里设置宽高等于可见宽高很重要\r\n      // console.log('WindowclientWidth', document.body.clientWidth)\r\n      // console.log('WindowclientHeight', document.body.clientHeight)\r\n      // console.log('WindowclientWidth', this.canvas.clientWidth)\r\n      // console.log('WindowclientHeight', this.canvas.clientHeight)\r\n      // console.log(flag)\r\n      // if (flag) {\r\n      //   this.canvas.width = this.canvas.clientHeight\r\n      //   this.canvas.height = this.canvas.clientWidth\r\n      // } else {\r\n      //   this.canvas.width = this.canvas.clientWidth\r\n      //   this.canvas.height = this.canvas.clientHeight\r\n      // }\r\n\r\n      this.canvas.width = this.canvas.clientWidth\r\n      this.canvas.height = this.canvas.clientHeight\r\n\r\n      // console.log('Width', this.canvas.width)\r\n      // console.log('Height', this.canvas.height)\r\n\r\n      this.cxt = this.canvas.getContext('2d')\r\n      this.cxt.fillStyle = this.canvasBgColor // 填充颜色设定\r\n      this.cxt.fillRect(0, 0, this.canvas.width, this.canvas.height) // 画一个矩形 大小占满canvas 当做背景\r\n      this.cxt.strokeStyle = this.lineColor // 边框颜色设定\r\n      this.cxt.lineWidth = this.lineWidth // 线条粗细设定\r\n      this.cxt.lineCap = 'round' // 线条末端设定 为圆形\r\n      this.cxt.lineJoin = 'round' // 线条交汇处设定 为圆形边角\r\n      // 利用阴影 消除锯齿 注意颜色与线条颜色保持一致\r\n      this.cxt.shadowBlur = 1\r\n      this.cxt.shadowColor = this.lineColor\r\n    },\r\n    /* 创建路径与移动触点 */\r\n    beginAndMove (x, y) {\r\n      this.cxt.beginPath() // 创建新路径\r\n      this.cxt.moveTo(x, y) // 移动触点\r\n    },\r\n    /* 鼠标移动绘画 */\r\n    draw (x, y) {\r\n      this.cxt.lineTo(x, y)\r\n      this.cxt.stroke()\r\n    },\r\n    /* 闭合路径 PC请勿使用？ */\r\n    close () {\r\n      // this.cxt.closePath()\r\n    },\r\n    openDownloadDialog (url, saveName) {\r\n      if (typeof url === 'object' && url instanceof Blob) {\r\n        url = URL.createObjectURL(url) // 创建blob地址\r\n      }\r\n      var aLink = document.createElement('a')\r\n      aLink.href = url\r\n      aLink.download = saveName || '' // HTML5新增的属性，指定保存文件名，可以不要后缀，注意，file:///模式下不会生效\r\n      var event\r\n      if (window.MouseEvent) event = new MouseEvent('click')\r\n      else {\r\n        event = document.createEvent('MouseEvents')\r\n        event.initMouseEvent(\r\n          'click',\r\n          true,\r\n          false,\r\n          window,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          false,\r\n          false,\r\n          false,\r\n          false,\r\n          0,\r\n          null\r\n        )\r\n      }\r\n      aLink.dispatchEvent(event)\r\n    },\r\n    /* 下载签名并保存成图片 应该接收参数决定保存成图片的类型 */\r\n    download () {\r\n      if (this.imageType === 'jpg') {\r\n        var img = this.canvas.toDataURL('image/jpeg', 1)\r\n      } else if (this.imageType === 'png') {\r\n        img = this.canvas.toDataURL('image/png')\r\n      }\r\n      var downLoadLink = document.createElement('a')\r\n      downLoadLink.download = 'mySignature'\r\n      downLoadLink.href = img\r\n      console.log(downLoadLink)\r\n      downLoadLink.click() // 触发点击事件进行下载\r\n      this.$emit('uploadImageToFather', img)\r\n    },\r\n    clear () {\r\n      // this.clearTrace()\r\n      // 把导入的图片和画布一起清除\r\n      // this.image = ''\r\n      this.clearCanvas()\r\n      this.image = ''\r\n      // this.imageToInsert = ''\r\n      this.file = ''\r\n      this.newTrace = []\r\n    },\r\n    /* 清除当前canvas的内容 */\r\n    clearCanvas () {\r\n      this.cxt.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n      this.cxt.fillRect(0, 0, this.canvas.width, this.canvas.height) // 再绘制一次背景因为会连背景也清除\r\n    },\r\n    /* 清除当前轨迹数据 */\r\n    clearTrace () {\r\n      this.trace.splice(0, this.trace.length)\r\n      this.imageToInsert = ''\r\n      // this.trace = []\r\n      // this.clearCanvas()\r\n    },\r\n    /* canvas画布强制跟着窗口大小(建议每次加载强制触发) 未真机测试 */\r\n    windowToCanvas () {\r\n      console.log(window.innerWidth, window.innerHeight)\r\n      this.canvas.width = window.innerWidth\r\n      this.canvas.height = window.innerHeight\r\n    }\r\n  },\r\n  components: {},\r\n  mounted () {\r\n    this.getDOMEl() // 获取DOM元素\r\n    this.canvasSupTest() // canvas可用性测试\r\n    this.porpertyInit() // 初始化属性\r\n    this.mobileCompute() // 计算移动端偏移值\r\n    // 判断pc端还是移动端\r\n    if (this.isMobile()) {\r\n      /*\r\n      移动端  回调函数使用bind传入this\r\n    */\r\n      // 开始绘制 touchstart 手指触摸时触发\r\n      this.canvas.addEventListener(\r\n        'touchstart',\r\n\r\n        function (e) {\r\n          // console.log(e)\r\n          // console.log(e.changedTouches[0].pageX,event.changedTouches[0].pageY)\r\n          /*\r\n        e.changedTouches[0].pageX 触点的X坐标\r\n        e.changedTouches[0].pageY 触点的Y坐标\r\n        */\r\n          // console.log('start')\r\n          if (!this.eraserFlag) {\r\n            // console.log(e)\r\n            // console.log(test)\r\n            this.beginAndMove(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY\r\n            )\r\n            this.traceInputBegin(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY,\r\n              true,\r\n              this.color,\r\n              this.width\r\n            ) // 记录鼠标开始时坐标\r\n          }\r\n        }.bind(this)\r\n      )\r\n\r\n      // 绘制中 touchmove 当手指在屏幕上滑动的时候连续地触发 思路为连续触发lineTo事件\r\n      this.canvas.addEventListener(\r\n        'touchmove',\r\n        function (e) {\r\n          // console.log('move')\r\n\r\n          if (!this.eraserFlag) {\r\n            // console.log(e.changedTouches[0].pageX,event.changedTouches[0].pageY)\r\n            this.traceInput(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY,\r\n              false\r\n            ) // 记录鼠标移动时坐标\r\n            this.draw(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY\r\n            )\r\n          }\r\n        }.bind(this)\r\n      )\r\n\r\n      // 结束绘制 闭合线路\r\n      this.canvas.addEventListener(\r\n        'touchend',\r\n        function (e) {\r\n          // console.log('end')\r\n\r\n          if (!this.eraserFlag) {\r\n            if (this.trace.length > 0) {\r\n              this.traceInput(\r\n                e.changedTouches[0].pageX - this.minusX,\r\n                e.changedTouches[0].pageY - this.minusY,\r\n                true\r\n              ) // 记录鼠标结束时坐标\r\n            }\r\n            this.draw(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY\r\n            )\r\n            // this.close()\r\n            // this.penShape() // 抬笔添加笔锋\r\n          }\r\n          // console.log('end', this.trace)\r\n        }.bind(this)\r\n      )\r\n      /* 禁止移动端默认拖拽事件 */\r\n      document.body.addEventListener(\r\n        'touchmove',\r\n        function (e) {\r\n          e.preventDefault()\r\n        },\r\n        { passive: false }\r\n      )\r\n      /* 移动端橡皮擦 */\r\n      this.canvas.addEventListener(\r\n        'touchstart',\r\n        function (e) {\r\n          if (this.eraserFlag) {\r\n            if (this.eraserTrace.length === 2) {\r\n              // 清除上一次的轨迹\r\n              this.eraserTrace = []\r\n            }\r\n            this.eraserTraceInput(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY\r\n            )\r\n            // console.log(this.eraserTrace)\r\n          }\r\n        }.bind(this)\r\n      )\r\n\r\n      this.canvas.addEventListener(\r\n        'touchend',\r\n        function (e) {\r\n          // console.log(this.eraserFlag)\r\n          if (this.eraserFlag) {\r\n            this.eraserTraceInput(\r\n              e.changedTouches[0].pageX - this.minusX,\r\n              e.changedTouches[0].pageY - this.minusY\r\n            )\r\n            // console.log(this.eraserTrace)\r\n            // 相交检测并根据检测结果擦除\r\n            this.eraserTheLine()\r\n            this.eraserTrace = []\r\n          }\r\n        }.bind(this)\r\n      )\r\n    } else {\r\n      /*\r\n      PC端  回调函数使用bind传入this\r\n    */\r\n      this.canvas.addEventListener(\r\n        'mousedown',\r\n        function (e) {\r\n          // console.log(e)\r\n          if (!this.eraserFlag) {\r\n            // console.log(e)\r\n            this.traceInputBegin(\r\n              e.layerX,\r\n              e.layerY,\r\n              true,\r\n              this.color,\r\n              this.width\r\n            ) // 记录鼠标开始时坐标\r\n            this.beginAndMove(e.layerX, e.layerY)\r\n            this.flag = true // 鼠标移动绘制时的标志量\r\n          }\r\n        }.bind(this)\r\n      )\r\n      this.canvas.addEventListener(\r\n        'mousemove',\r\n        function (e) {\r\n          if (!this.eraserFlag && this.flag) {\r\n            this.traceInput(e.layerX, e.layerY, false) // 记录鼠标移动时坐标\r\n            this.draw(e.layerX, e.layerY)\r\n          }\r\n        }.bind(this)\r\n      )\r\n      this.canvas.addEventListener(\r\n        // 这个事件很重要 否则在使用导航栏时会出现bug\r\n        'mouseout',\r\n        function (e) {\r\n          // this.traceInput(e.pageX, e.pageY, true)\r\n          this.flag = false // 标志归位\r\n        }.bind(this)\r\n      )\r\n      this.canvas.addEventListener(\r\n        'mouseup',\r\n        function (e) {\r\n          if (!this.eraserFlag) {\r\n            if (this.trace.length > 0) {\r\n              this.traceInput(e.layerX, e.layerY, true) // 记录鼠标结束时坐标\r\n            }\r\n            this.flag = false // 标志归位\r\n            this.draw(e.layerX, e.layerY)\r\n            // this.penShape() // 抬笔添加笔锋\r\n          }\r\n\r\n          // console.log(this.trace)\r\n        }.bind(this)\r\n      )\r\n\r\n      /* PC端橡皮擦 */\r\n      this.canvas.addEventListener(\r\n        'mousedown',\r\n        function (e) {\r\n          if (this.eraserFlag) {\r\n            if (this.eraserTrace.length === 2) {\r\n              // 清除上一次的轨迹\r\n              this.eraserTrace = []\r\n            }\r\n            this.eraserTraceInput(e.layerX, e.layerY)\r\n            // console.log(this.eraserTrace)\r\n          }\r\n        }.bind(this)\r\n      )\r\n\r\n      this.canvas.addEventListener(\r\n        'mouseup',\r\n        function (e) {\r\n          // console.log(this.eraserFlag)\r\n          if (this.eraserFlag) {\r\n            this.eraserTraceInput(e.layerX, e.layerY)\r\n            // console.log(this.eraserTrace)\r\n            // 相交检测并根据检测结果擦除\r\n            this.eraserTheLine()\r\n            this.eraserTrace = []\r\n          }\r\n        }.bind(this)\r\n      )\r\n    }\r\n\r\n    /* 检测窗口变化大小 如果发生变化会清除面板和重绘数据 */\r\n    window.addEventListener(\r\n      'orientationchange',\r\n      function () {\r\n        // orientationchange事件必须设置延迟 不然宽高获取会出错\r\n        // alert('resize')\r\n        setTimeout(() => {\r\n          this.mobileCompute() //\r\n          // console.log(this.minusX, this.minusY)\r\n          this.porpertyInit() // 需要重新初始化属性\r\n          this.rePaint()\r\n        }, 200)\r\n\r\n        // this.clearTrace() // 需要清除重绘数据\r\n      }.bind(this)\r\n    )\r\n    /* 文件选择并导入新轨迹 */\r\n    this.fileInputBtn.addEventListener(\r\n      'change',\r\n      function (e) {\r\n        this.file = e.target.files\r\n        // console.log(this.file)\r\n        const reader = new FileReader()\r\n        reader.readAsText(this.file[0])\r\n        reader.onload = function () {\r\n          this.newTrace = JSON.parse(reader.result)\r\n          this.trace = this.trace.concat(this.newTrace)\r\n        }.bind(this)\r\n      }.bind(this)\r\n    )\r\n    this.fileInputBtn.addEventListener('click', function (e) {\r\n      this.value = ''\r\n    })\r\n    /* 图片导入 */\r\n    this.imageInputBtn.addEventListener(\r\n      'change',\r\n      function (e) {\r\n        this.image = e.target.files\r\n        const reader = new FileReader()\r\n        reader.readAsDataURL(this.image[0])\r\n        reader.onload = function (e) {\r\n          this.imageToInsert = e.target.result\r\n          console.log(this.imageToInsert)\r\n          this.drawImageOnCanvas()\r\n        }.bind(this)\r\n      }.bind(this)\r\n    )\r\n    this.imageInputBtn.addEventListener('click', function (e) {\r\n      this.value = ''\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#fileInputBtn {\r\n  position: absolute;\r\n  /* z-index: 99; */\r\n  left: 8px;\r\n  display: none;\r\n}\r\n.colorPicker {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translate(0, -50%); /* 50%为自身尺寸的一半 */\r\n}\r\n\r\n.extra-show-item {\r\n  overflow: visible;\r\n}\r\n.pen-width-input {\r\n  width: 43px;\r\n}\r\n.btn-text {\r\n  margin-left: 0 !important;\r\n}\r\n.small-margin-right {\r\n  margin-right: 5px;\r\n}\r\n.small-width {\r\n  padding: 0 10px;\r\n}\r\n.menu-item {\r\n  padding: 5px;\r\n}\r\n.menu-item > span {\r\n  font-size: 15px;\r\n}\r\n.canvas-menu {\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 99;\r\n  width: 100%;\r\n}\r\n.canvas_container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.canvas_container canvas {\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n\r\n<style>\r\n.m-colorPicker .box {\r\n  position: absolute;\r\n  left: -681%;\r\n  top: 169%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureCore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureCore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignatureCore.vue?vue&type=template&id=611ce35f&scoped=true&\"\nimport script from \"./SignatureCore.vue?vue&type=script&lang=js&\"\nexport * from \"./SignatureCore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignatureCore.vue?vue&type=style&index=0&id=611ce35f&scoped=true&lang=css&\"\nimport style1 from \"./SignatureCore.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"611ce35f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container\">\r\n    <el-menu class=\"el-menu-demo\" mode=\"horizontal\">\r\n      <el-menu-item class=\"menu-item\" index=\"1\"\r\n        ><el-button @click=\"download()\">保存</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"2\">\r\n        格式：\r\n        <el-select\r\n          class=\"selectModule\"\r\n          v-model=\"imageType\"\r\n          placeholder=\"请选择\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.vlaue\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-menu-item>\r\n      <el-menu-item class=\"menu-item\" index=\"3\"\r\n        ><el-button @click=\"clear()\">清除</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"4\"\r\n        ><el-button\r\n          :type=\"btnHighlight || imgFlag ? 'primary' : ''\"\r\n          @click=\"repaint()\"\r\n          >重绘</el-button\r\n        ></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"5\"\r\n        ><el-button\r\n          :type=\"btnHighlight || imgFlag ? 'primary' : ''\"\r\n          @click=\"clearTrace()\"\r\n          >清除重绘</el-button\r\n        ></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"6\"\r\n        ><el-button\r\n          :type=\"btnHighlight || imgFlag ? 'primary' : ''\"\r\n          @click=\"saveTraceAsJSON()\"\r\n          >导出重绘</el-button\r\n        ></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\"\r\n        ><el-button @click=\"fileInput()\">导入重绘</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\" @click=\"imageInput()\"\r\n        ><el-button>导入图片</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\"\r\n        ><el-button @click=\"traceBackWard()\">撤回</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\"\r\n        ><el-button :type=\"eraserFlag ? 'primary' : ''\" @click=\"eraserTrigger()\"\r\n          >橡皮擦</el-button\r\n        ></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\"\r\n        ><el-button @click=\"penShape()\">笔锋</el-button></el-menu-item\r\n      >\r\n      <el-menu-item class=\"menu-item\" index=\"7\">\r\n        <span>粗细：</span>\r\n        <el-input\r\n          class=\"width-input\"\r\n          placeholder=\"输入粗细\"\r\n          v-model=\"width\"\r\n          clearable\r\n          @blur=\"penSizeChange(width)\"\r\n        >\r\n        </el-input>\r\n      </el-menu-item>\r\n      <el-menu-item class=\"menu-item\" index=\"7\">\r\n        <span>颜色：</span>\r\n        <el-color-picker\r\n          @change=\"colorChange(color)\"\r\n          v-model=\"color\"\r\n        ></el-color-picker>\r\n      </el-menu-item>\r\n    </el-menu>\r\n    <signatureCore\r\n      @updateBtnHight=\"updateBtnHight\"\r\n      @updateImgFlag=\"updateImgFlag\"\r\n      @updateEraserFlag=\"updateEraserFlag\"\r\n      @uploadImageToFather=\"uploadImageToFather\"\r\n      @uploadTraceToFather=\"uploadTraceJSONToFather\"\r\n      :imageType=\"imageType\"\r\n      :lineWidth=\"Number(width)\"\r\n      :lineColor=\"color\"\r\n      ref=\"sigCore\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport signatureCore from './Signature/SignatureCore.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      options: [\r\n        {\r\n          value: 'jpg',\r\n          label: 'jpg'\r\n        },\r\n        {\r\n          value: 'png',\r\n          label: 'png'\r\n        }\r\n      ],\r\n      imageType: 'jpg', // 传入子组件的图片类型\r\n      btnHighlight: false, // 按钮高亮标志量\r\n      eraserFlag: false, // 橡皮擦标志位\r\n      imgFlag: false, // 图片缓存标志量\r\n      width: 3, // 笔粗细\r\n      color: '#000' // 笔颜色\r\n    }\r\n  },\r\n  methods: {\r\n    /* 下载功能入口 */\r\n    download () {\r\n      this.$refs.sigCore.download()\r\n    },\r\n    /* 清除功能入口 */\r\n    clear () {\r\n      this.$refs.sigCore.clear()\r\n    },\r\n    /* 重绘功能入口 */\r\n    repaint () {\r\n      this.$refs.sigCore.rePaint()\r\n    },\r\n    /* 重绘导入功能入口 */\r\n    fileInput () {\r\n      this.$refs.sigCore.fileInput()\r\n    },\r\n    /* 清除重绘功能入口 */\r\n    clearTrace () {\r\n      this.$refs.sigCore.clearTrace()\r\n    },\r\n    /* 导出重绘功能入口 */\r\n    saveTraceAsJSON () {\r\n      this.$refs.sigCore.saveTraceAsJSON()\r\n    },\r\n    /* 导入图片功能入口 */\r\n    imageInput () {\r\n      this.$refs.sigCore.imageInput()\r\n    },\r\n    /* 撤回功能入口 */\r\n    traceBackWard () {\r\n      this.$refs.sigCore.traceBackWard()\r\n    },\r\n    /* 橡皮擦功能入口 */\r\n    eraserTrigger () {\r\n      this.$refs.sigCore.eraserTrigger()\r\n    },\r\n    /* 笔锋功能入口 */\r\n    penShape () {\r\n      this.$refs.sigCore.penShape()\r\n    },\r\n    /* 笔粗细改变功能入口 */\r\n    penSizeChange (width) {\r\n      this.$refs.sigCore.penSizeChange(width)\r\n    },\r\n    /* 笔颜色改变功能入口 */\r\n    colorChange (color) {\r\n      this.$refs.sigCore.colorChange(color)\r\n    },\r\n    /* 更新按钮标志量 */\r\n    updateBtnHight (newValue) {\r\n      this.btnHighlight = newValue\r\n    },\r\n    /* 更新图片标志量 */\r\n    updateImgFlag (newValue) {\r\n      this.imgFlag = newValue\r\n    },\r\n    /* 更新橡皮擦标志量 */\r\n    updateEraserFlag (newValue) {\r\n      console.log(newValue)\r\n      this.eraserFlag = newValue\r\n    },\r\n    // 内部图片传出\r\n    uploadImageToFather (img) {\r\n      // console.log(img)\r\n      this.img = img\r\n    },\r\n    // 内部json传出\r\n    uploadTraceJSONToFather (traceJSON) {\r\n      this.traceJSON = traceJSON\r\n      console.log(this.traceJSON)\r\n    },\r\n    injectJSON () { // 向手写板传入JSON\r\n      // 获取json文件的请求\r\n      var json = 'hello just test'\r\n      this.$refs.sigCore.injectJSON(json)\r\n    },\r\n    injectImage () { // 向手写板传入image\r\n      // 获取图片文件的请求\r\n      var image = 'hello I am image' // 格式 data:image/jpeg;base64\r\n      this.$refs.sigCore.injectImage(image)\r\n    }\r\n  },\r\n  components: { signatureCore }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.selectModule {\r\n  width: 100px;\r\n}\r\n.menu-item {\r\n  padding: 0 5px;\r\n}\r\n.width-input {\r\n  max-width: 80px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./elementUI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./elementUI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./elementUI.vue?vue&type=template&id=f2f0d998&scoped=true&\"\nimport script from \"./elementUI.vue?vue&type=script&lang=js&\"\nexport * from \"./elementUI.vue?vue&type=script&lang=js&\"\nimport style0 from \"./elementUI.vue?vue&type=style&index=0&id=f2f0d998&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2f0d998\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureCore.vue?vue&type=style&index=0&id=611ce35f&scoped=true&lang=css&\"","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignatureCore.vue?vue&type=style&index=1&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEQSURBVEhL1ZIxagJBGEY3GAI5gKYOaOEFLLyIYCGktAmCXbDzAFaxDKSxsEkOkwOkMSnTColJ3r/4wbDM6O7sWPjgscywzGP4JzsHOvvvyRjjN47y1QmwwC9+4A8mDymwwmt8waQhN3BpG3CFr5gk5AuIJCEF7KBiQNQKKbDFT+xiiKiQAmts4zsmDSmwwzds4S2WDR19de6Q+/iFFrrBsqEp/uFTvirgBjTkHlYJ3aOd8YwN23DxBUTZUHRAHAvVDohQyPaSBIQbslc3RxuyN2A8ov0wy1flUWiDwRuIC1yihR5sowILPHgDl5jQwSGHqBKKCgg3ZDNqepxgdEC4oZC1AsJCA7zzOMTagcRk2T9Q93nXufGozQAAAABJRU5ErkJggg==\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n"],"sourceRoot":""}